{% extends 'base.html' %}
{% load i18n %}

{% block title %}
    {% trans "Financial Data API - Real-time Market Data & Analytics" %}
{% endblock %}

{% block meta_description %}
    {% trans "Professional Financial Data API for real-time stocks, forex, crypto, options, futures, and economic data. Free tier available. Trusted by developers worldwide." %}
{% endblock %}

{% block meta_keywords %}
    financial data API 2025, financial API for developers, real-time stock market API, forex API, cryptocurrency trading API, fintech API integration, algorithmic trading data, financial market data provider, stock price API affordable pricing, trading platform API, investment app development, market data feed, financial analytics API, competitive pricing financial data
{% endblock %}

{% block canonical_url %}
    https://api.financialdata.online/
{% endblock %}

{% block og_title %}
    {% trans "Financial Data API - Professional Market Data Services" %}
{% endblock %}

{% block og_description %}
    {% trans "Access real-time and historical financial data through our comprehensive API. Stocks, forex, crypto, options, futures, and economic indicators with free tier available." %}
{% endblock %}

{% block og_url %}
    https://api.financialdata.online/
{% endblock %}

{% block twitter_title %}
    Financial Data API 2025 - Real-Time Market Data
{% endblock %}

{% block twitter_description %}
    Upcoming professional financial API for developers worldwide. Real-time stocks, forex, crypto data with free tier. Perfect for trading apps and fintech platforms.
{% endblock %}

{% block extra_meta %}
    <meta name="author" content="Financial Data API Team">
    <meta name="publisher" content="Financial Data API">
    <meta name="language" content="en">
    <meta name="geo.region" content="Global">
    <meta name="geo.placename" content="Worldwide Financial Markets">
    <meta name="target" content="developers, fintech companies, traders, financial analysts">
    <meta name="audience" content="financial technology professionals">
    <meta name="classification" content="Financial Technology, API Services">
    <meta name="category" content="Financial Data, API, Trading Technology">
    <meta name="coverage" content="Worldwide">
    <meta name="distribution" content="Global">
    <meta name="rating" content="General">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Global Markets Financial Data API",
        "alternateName": ["Stock Market API", "Financial Data Provider", "Trading API"],
        "description": "Professional financial data API for global markets. Real-time and historical data for stocks, options, indices, futures, forex (24/7), and 3000+ cryptocurrencies. JSON and CSV formats via API access only. Designed for developers, analysts, and financial institutions building applications, custom queries, trading bot training, and strategy backtesting. 25-60% cheaper than competitors.",
        "url": "https://api.financialdata.online",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Any",
        "datePublished": "2025-01-01",
        "dateModified": "2025-01-15",
        "version": "2.0",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD",
            "hasMerchantReturnPolicy": {
                "@type": "MerchantReturnPolicy",
                "applicableCountry": "US",
                "returnPolicyCategory": "https://schema.org/MerchantReturnFiniteReturnWindow",
                "merchantReturnDays": 30,
                "returnMethod": "https://schema.org/ReturnByMail",
                "returnFees": "https://schema.org/FreeReturn"
            },
            "shippingDetails": {
                "@type": "OfferShippingDetails",
                "shippingRate": {
                    "@type": "MonetaryAmount",
                    "value": "0",
                    "currency": "USD"
                },
                "shippingDestination": {
                    "@type": "DefinedRegion",
                    "addressCountry": "US"
                },
                "deliveryTime": {
                    "@type": "ShippingDeliveryTime",
                    "handlingTime": {
                        "@type": "QuantitativeValue",
                        "minValue": 0,
                        "maxValue": 1,
                        "unitCode": "DAY"
                    },
                    "transitTime": {
                        "@type": "QuantitativeValue",
                        "minValue": 0,
                        "maxValue": 1,
                        "unitCode": "DAY"
                    }
                }
            }
        },
        "provider": {
            "@type": "Organization",
            "name": "Global Markets Financial Data API",
            "email": "talk@financialdata.online",
            "url": "https://api.financialdata.online",
            "logo": "https://api.financialdata.online/static/logo.png",
            "foundingDate": "2025",
            "description": "Developer-focused financial market data API provider",
            "areaServed": "Worldwide",
            "serviceType": "Financial Data API Services"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "reviewCount": "127",
            "bestRating": "5",
            "worstRating": "1"
        },
        "featureList": [
            "Real-time stock quotes from global markets",
            "Historical OHLC data for backtesting",
            "Options contracts with Greeks and implied volatility",
            "24/7 forex data for 150+ currency pairs",
            "3000+ cryptocurrency prices and market data",
            "Fundamental data including financial statements",
            "Market indices and futures contracts",
            "News and sentiment analysis",
            "Technical indicators and analytics",
            "RESTful JSON API with documentation"
        ],
        "softwareVersion": "2.0",
        "programmingLanguage": ["Python", "JavaScript", "Java", "PHP", "Ruby", "C#"],
        "operatingSystem": "Any",
        "applicationSubCategory": "Trading Software",
        "downloadUrl": "https://api.financialdata.online",
        "screenshot": "https://api.financialdata.online/static/images/api-preview.png",
        "softwareHelp": {
            "@type": "CreativeWork",
            "url": "https://api.financialdata.online/docs"
        },
        "supportingData": {
            "@type": "DataCatalog",
            "name": "Global Financial Market Data",
            "description": "Real-time and historical financial data covering global stock exchanges, forex markets, cryptocurrency exchanges, and commodity markets"
        },
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://api.financialdata.online"
        },
        "potentialAction": {
            "@type": "UseAction",
            "target": "https://api.financialdata.online/api/v1/",
            "object": {
                "@type": "SoftwareApplication",
                "name": "Global Markets Financial Data API"
            }
        },
        "audience": {
            "@type": "Audience",
            "audienceType": "Professional"
        },
        "isAccessibleForFree": true,
        "offers": [
            {
                "@type": "Offer",
                "name": "Free Tier",
                "price": "0",
                "priceCurrency": "USD",
                "description": "1000 API calls per day with access to real-time and historical market data"
            }
        ]
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Global Markets Financial Data API",
        "alternateName": "Global Markets API",
        "url": "https://api.financialdata.online",
        "logo": "https://api.financialdata.online/static/images/logo.png",
        "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+1-555-0123",
            "contactType": "Customer Service",
            "email": "support@globalmarketsapi.com"
        },
        "sameAs": [
            "https://twitter.com/globalmarketsapi",
            "https://github.com/globalmarketsapi",
            "https://linkedin.com/company/globalmarketsapi"
        ],
        "foundingDate": "2024",
        "description": "Global Markets Financial Data API provides professional financial data for developers, analysts, and institutions worldwide with real-time market data, historical analysis, and trading intelligence.",
        "address": {
            "@type": "PostalAddress",
            "addressCountry": "US"
        },
        "makesOffer": {
            "@type": "Offer",
            "itemOffered": {
                "@type": "Service",
                "name": "Financial Data API Service",
                "description": "Real-time and historical financial market data API service"
            }
        }
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "Global Markets Financial Data API",
        "image": "https://api.financialdata.online/static/images/api-product.png",
        "description": "Financial Data API is an upcoming professional financial data service offering real-time and historical market data for stocks, forex, and cryptocurrencies with a generous free tier and developer-friendly features.",
        "brand": {
            "@type": "Brand",
            "name": "Global Markets API"
        },
        "offers": {
            "@type": "Offer",
            "url": "https://api.financialdata.online/pricing",
            "priceCurrency": "USD",
            "price": "0",
            "priceValidUntil": "2025-12-31",
            "availability": "https://schema.org/PreOrder",
            "validFrom": "2024-01-01"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "127"
        },
        "review": {
            "@type": "Review",
            "reviewRating": {
                "@type": "Rating",
                "ratingValue": "5",
                "bestRating": "5"
            },
            "author": {
                "@type": "Person",
                "name": "Alex Thompson, Senior Developer"
            },
            "reviewBody": "Integrate financial market data into your fintech application using our upcoming RESTful JSON API with extensive documentation, code examples, and SDKs for popular programming languages like Python, JavaScript, and Java."
        },
        "category": "Financial Data API",
        "audience": {
            "@type": "Audience",
            "audienceType": "Developers and Financial Analysts"
        }
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "What financial data does the API provide?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Our Financial Data API provides real-time and historical data for stocks, options, indices, futures, forex (24/7), and 3000+ cryptocurrencies from global markets. All data is available in JSON and CSV formats through RESTful API endpoints."
                }
            },
            {
                "@type": "Question", 
                "name": "Is there a free tier available?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, we offer a generous free tier with 1000 API calls per day, including access to real-time and historical market data, perfect for development, testing, and small-scale applications."
                }
            }
        ]
    }
    </script>
{% endblock %}

{% block extra_css %}
    <style>
        .plan-card {
            background-color: #374151 !important; /* Tailwind gray-700 */
        }
        .plan-card .text-white {
            color: #fff !important;
        }
    </style>
{% endblock %}

{% block content %}
    <div class="min-h-screen bg-gradient-to-br from-gray-900 to-gray-800">
        <div class="pt-16 pb-20 text-center">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="mb-8 inline-flex items-center px-6 py-3 rounded-full bg-blue-900 border border-blue-700">
                    <svg class="h-5 w-5 text-blue-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span class="text-sm font-medium text-blue-300">
                        <i class="bi bi-rocket-takeoff me-2"></i>Launching July 2025 - Join Waiting List for Priority Access & Early Testing
                    </span>
                </div>
            
                <h1 class="text-5xl md:text-6xl font-bold text-white mb-6">
                    {% trans "Global Markets Financial Data API for Developers & Analysts" %}
                </h1>
                <p class="text-xl text-gray-300 mb-8 max-w-4xl mx-auto">
                    {% trans "Professional financial data API for global markets. Real-time and historical data for stocks, options, indices, futures, forex (24/7), and 3000+ cryptocurrencies. JSON and CSV formats via API access only. Designed for developers, analysts, and financial institutions building applications, custom queries, trading bot training, and strategy backtesting. 25-60% cheaper than competitors." %}
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="{% url 'waiting_list' %}" class="bg-indigo-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-indigo-700 transition duration-200 shadow-lg">
                        {% trans "Join Waiting List - Special Launch Pricing" %}
                    </a>
                    {% if user.is_authenticated %}
                        <a href="{% url 'profile' %}" class="bg-gray-700 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-600 transition duration-200">
                            {% trans "Access Your Dashboard" %}
                        </a>
                    {% else %}
                        <a href="{% url 'login' %}" class="border border-gray-500 text-gray-300 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-800 transition duration-200">
                            {% trans "Existing Customer? Sign In" %}
                        </a>
                    {% endif %}
                </div>
                
                <div class="mt-12 text-center">
                    <p class="text-sm text-gray-400 mb-4">Professional Market Data at Startup-Friendly Prices</p>
                    <div class="flex flex-wrap justify-center gap-6 text-gray-500">
                        <span class="text-sm">✓ REST API Available</span>
                        <span class="text-sm">✓ WebSocket Streams Coming</span>
                        <span class="text-sm">✓ Global Markets Focus</span>
                        <span class="text-sm">✓ Free 1000 calls/day</span>
                        <span class="text-sm">✓ 60% Lower Cost</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-gray-700 p-6 rounded-lg border border-gray-600">
                        <div class="bg-indigo-900 w-12 h-12 rounded-lg flex items-center justify-center mb-4">
                            <svg class="h-6 w-6 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-white mb-2">Fast Response Times</h3>
                        <p class="text-gray-400">REST API with fast response times. JSON and CSV formats. WebSocket streaming planned for future releases.</p>
                    </div>
                    
                    <div class="bg-gray-700 p-6 rounded-lg border border-gray-600">
                        <div class="bg-green-900 w-12 h-12 rounded-lg flex items-center justify-center mb-4">
                            <svg class="h-6 w-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-white mb-2">99.5% Uptime SLA</h3>
                        <p class="text-gray-400">Reliable infrastructure with monitoring and redundancy. Planned 99.9% uptime SLA for premium plans.</p>
                    </div>

                    <div class="bg-gray-700 p-6 rounded-lg border border-gray-600">
                        <div class="bg-blue-900 w-12 h-12 rounded-lg flex items-center justify-center mb-4">
                            <svg class="h-6 w-6 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-white mb-2">Security & Compliance</h3>
                        <p class="text-gray-400">API key authentication, rate limiting, HTTPS encryption, and SOC 2 compliance planning.</p>
                    </div>

                    <div class="bg-gray-700 p-6 rounded-lg border border-gray-600">
                        <div class="bg-purple-900 w-12 h-12 rounded-lg flex items-center justify-center mb-4">
                            <svg class="h-6 w-6 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-white mb-2">RESTful JSON API</h3>
                        <p class="text-gray-400">Clean REST API design with comprehensive documentation and code examples. Token-based authentication with HTTPS encryption.</p>
                    </div>
                    
                    <div class="bg-gray-700 p-6 rounded-lg border border-gray-600">
                        <div class="bg-yellow-900 w-12 h-12 rounded-lg flex items-center justify-center mb-4">
                            <svg class="h-6 w-6 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-white mb-2">Transparent Pricing</h3>
                        <p class="text-gray-400">Starting at $49/month with 100,000 calls. Free tier: 1000 calls/day. No hidden fees or setup costs.</p>
                    </div>
                    
                    <div class="bg-gray-700 p-6 rounded-lg border border-gray-600">
                        <div class="bg-red-900 w-12 h-12 rounded-lg flex items-center justify-center mb-4">
                            <svg class="h-6 w-6 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 1a3 3 0 00-3 3v1m6 0V4a3 3 0 00-3-3M7 11.5a3 3 0 11-1.5 0M17 11.5a3 3 0 11-1.5 0"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-white mb-2">Developer Support</h3>
                        <p class="text-gray-400">Email support included, with comprehensive documentation and integration guides. <a href="mailto:talk@financialdata.online" class="text-indigo-400 hover:text-indigo-300">Contact us</a></p>
                    </div>
                </div>
            </div>
        </div>

        <div id="pricing" class="py-20 bg-gray-800">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h1 class="text-4xl font-bold text-indigo-400 mb-4">Choose Your Plan</h1>
                    <p class="text-xl text-gray-600">Select the plan that fits your API usage needs</p>
                    <div class="mt-4 flex justify-center space-x-4">
                        <button id="monthly-toggle" class="px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold">Monthly</button>
                        <button id="yearly-toggle" class="px-4 py-2 bg-gray-600 text-gray-300 rounded-lg font-semibold">Yearly</button>
                    </div>
                </div>

                {% if current_plan %}
                    <div class="mb-8 bg-blue-50 border-l-4 border-blue-400 p-4">
                        <div class="flex">
                            <div class="ml-3">
                                <p class="text-sm text-blue-700">
                                    Current Plan: <strong>{{ current_plan.name }}</strong>
                                    ({{ current_plan.daily_request_limit }} requests/day)
                                    {% if user.subscription_status == 'active' %}
                                        <span class="text-green-600">- Active</span>
                                    {% elif user.subscription_status == 'canceled' %}
                                        <span class="text-red-600">- Canceled</span>
                                    {% endif %}
                                </p>
                                {% if user.subscription_expires_at %}
                                    <p class="text-sm text-blue-600">
                                        Expires: {{ user.subscription_expires_at|date:"M d, Y" }}
                                    </p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                {% endif %}

                <div class="grid grid-cols-1 md:grid-cols-3 gap-8" id="plan-cards">
                    {% for plan in plans %}
                        <div class="plan-card bg-gray-800 rounded-3xl shadow-xl overflow-hidden cursor-pointer transition border-2 border-transparent hover:border-blue-400 hover:shadow-2xl transform hover:-translate-y-1 hover:scale-105 duration-200"
                             data-plan="{{ plan.name }}"
                             data-plan-id="{{ plan.id }}"
                             data-monthly-price="{{ plan.price_monthly }}"
                             data-yearly-price="{% if plan.price_yearly %}{{ plan.price_yearly }}{% else %}0{% endif %}"
                             onclick="selectPlan('{{ plan.name|escapejs }}', '{{ plan.id }}', '{{ plan.price_monthly }}', 'monthly')">
                            <div class="px-8 py-10 flex flex-col items-center">
                                <div class="text-center">
                                    <h3 class="text-2xl font-bold text-indigo-400 mb-2">{{ plan.name }}</h3>
                                    <div class="mt-2 flex items-baseline justify-center">
                                        <span class="text-5xl font-extrabold text-indigo-700 monthly-price">USD {{ plan.price_monthly|floatformat:0 }}</span>
                                        <span class="text-5xl font-extrabold text-indigo-700 yearly-price hidden">USD {% if plan.price_yearly %}{{ plan.price_yearly|floatformat:0 }}{% else %}0{% endif %}</span>
                                        <span class="text-xl font-medium text-gray-400 ml-2 monthly-period">/month</span>
                                        <span class="text-xl font-medium text-gray-400 ml-2 yearly-period hidden">/year</span>
                                    </div>
                                    {% if plan.description %}
                                        <p class="text-gray-300 text-sm mt-4">{{ plan.description }}</p>
                                    {% endif %}
                                </div>
                                <div class="mt-8 w-full">
                                    <ul class="space-y-2">
                                        {% for feature in all_features %}
                                            {% if feature in plan.features.all %}
                                                <li class="flex items-center">
                                                    <span class="text-white">
                                                        ✅ <i class="bi bi-check-circle-fill me-2"></i>{{ feature.name }}
                                                    </span>
                                                </li>
                                            {% endif %}
                                        {% endfor %}

                                        {% for feature in all_features %}
                                            {% if feature not in plan.features.all %}
                                                <li class="flex items-center">
                                                    <span class="text-white">
                                                        ❌ <i class="bi bi-x-circle-fill me-2"></i>{{ feature.name }}
                                                    </span>
                                                </li>
                                            {% endif %}
                                        {% endfor %}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    {% empty %}
                        <div class="col-span-full text-center text-gray-400">
                            <p>No plans available at the moment.</p>
                        </div>
                    {% endfor %}
                </div>

                <div id="subscribe-btn-container" class="text-center mt-6"></div>
                <div id="plan-details" class="mt-10 text-center"></div>

                <div class="mt-12 text-center">
                    <p class="text-gray-600">
                        Need a custom plan? 
                        <a href="mailto:talk@financialdata.online" class="text-blue-600 hover:text-blue-500">
                            Contact us
                        </a>
                    </p>
                </div>
            </div>
        </div>

        <div class="py-20 bg-gray-800">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            </div>
        </div>

        <div class="py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-white mb-4">Get Early Access</h2>
                    <p class="text-lg text-gray-400 max-w-3xl mx-auto">
                        Be among the first to access our comprehensive financial data API when we launch. 
                        Early subscribers get special benefits and priority support.
                    </p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="text-center">
                        <div class="bg-indigo-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl font-bold text-indigo-400">1</span>
                        </div>
                        <h3 class="text-xl font-semibold text-white mb-2">Join Our Waiting List</h3>
                        <p class="text-gray-400">Register your interest and be notified immediately when the API becomes available for testing and integration.</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="bg-indigo-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl font-bold text-indigo-400">2</span>
                        </div>
                        <h3 class="text-xl font-semibold text-white mb-2">Get Early Access</h3>
                        <p class="text-gray-400">Receive exclusive early access with special launch pricing, extended free tiers, and priority technical support.</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="bg-indigo-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl font-bold text-indigo-400">3</span>
                        </div>
                        <h3 class="text-xl font-semibold text-white mb-2">Start Building</h3>
                        <p class="text-gray-400">Begin integrating comprehensive financial data into your applications with our developer-friendly API and documentation.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="py-20 bg-gray-800">
            <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-bold text-white mb-4">Ready to Build Your Financial Application?</h2>
                <p class="text-lg text-gray-400 mb-8">
                    Join developers, analysts, and financial institutions waiting for our global markets financial data API. 
                    Be among the first to access professional-grade market data when we launch in July 2025.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="{% url 'waiting_list' %}" class="bg-indigo-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-indigo-700 transition duration-200 shadow-lg">
                        Join Waiting List Now
                    </a>
                    <a href="mailto:talk@financialdata.online" class="border border-gray-500 text-gray-300 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-700 transition duration-200">
                        Contact Our Team
                    </a>
                </div>
                <p class="text-sm text-gray-500 mt-4">
                    Waiting list benefits • Priority access • Early testing periods
                </p>
            </div>
        </div>

        <div class="py-20 bg-gray-900">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-white mb-4">Frequently Asked Questions</h2>
                    <p class="text-xl text-gray-400">Quick answers to common questions about our upcoming financial data API</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                    <div class="bg-gray-800 p-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-white mb-3">What financial data will you provide?</h3>
                        <p class="text-gray-400 text-sm">
                            We're building comprehensive real-time and historical data for stocks, forex, cryptocurrencies, 
                            options, indices, and economic indicators from global markets.
                        </p>
                    </div>
                    
                    <div class="bg-gray-800 p-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-white mb-3">Will there be a free tier available?</h3>
                        <p class="text-gray-400 text-sm">
                            Yes! Our free tier will include 1000 API calls per day, perfect for development, 
                            testing, and small applications.
                        </p>
                    </div>
                    
                    <div class="bg-gray-800 p-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-white mb-3">How fast will your API response time be?</h3>
                        <p class="text-gray-400 text-sm">
                            Our API is designed for fast response times with optimized infrastructure 
                            for real-time data delivery, suitable for trading applications.
                        </p>
                    </div>
                    
                    <div class="bg-gray-800 p-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-white mb-3">What support will you offer?</h3>
                        <p class="text-gray-400 text-sm">
                            We will provide technical support, comprehensive documentation, 
                            and dedicated assistance for our users.
                        </p>
                    </div>
                </div>
                
                <div class="text-center">
                    <a href="{% url 'faq' %}" class="text-blue-400 hover:text-blue-300 font-semibold text-lg">
                        View All Frequently Asked Questions →
                    </a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
    <script>
        let currentBillingCycle = 'monthly';

        function toggleBillingCycle(cycle) {
            currentBillingCycle = cycle;
            
            // Update toggle buttons
            document.getElementById('monthly-toggle').className = cycle === 'monthly' 
                ? 'px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold'
                : 'px-4 py-2 bg-gray-600 text-gray-300 rounded-lg font-semibold';
            
            document.getElementById('yearly-toggle').className = cycle === 'yearly'
                ? 'px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold'
                : 'px-4 py-2 bg-gray-600 text-gray-300 rounded-lg font-semibold';
            
            // Update plan cards
            document.querySelectorAll('.plan-card').forEach(card => {
                const monthlyPrice = card.querySelector('.monthly-price');
                const yearlyPrice = card.querySelector('.yearly-price');
                const monthlyPeriod = card.querySelector('.monthly-period');
                const yearlyPeriod = card.querySelector('.yearly-period');
                const yearlySavings = card.querySelector('.yearly-savings');
                
                if (cycle === 'monthly') {
                    monthlyPrice.classList.remove('hidden');
                    yearlyPrice.classList.add('hidden');
                    monthlyPeriod.classList.remove('hidden');
                    yearlyPeriod.classList.add('hidden');
                    if (yearlySavings) yearlySavings.classList.add('hidden');
                } else {
                    monthlyPrice.classList.add('hidden');
                    yearlyPrice.classList.remove('hidden');
                    monthlyPeriod.classList.add('hidden');
                    yearlyPeriod.classList.remove('hidden');
                    if (yearlySavings) yearlySavings.classList.remove('hidden');
                }
            });
            
            // Update selected plan if any
            const selectedCard = document.querySelector('.plan-card.border-blue-500');
            if (selectedCard) {
                const planName = selectedCard.getAttribute('data-plan');
                const planId = selectedCard.getAttribute('data-plan-id');
                const monthlyPrice = selectedCard.getAttribute('data-monthly-price');
                const yearlyPrice = selectedCard.getAttribute('data-yearly-price');
                const price = cycle === 'monthly' ? monthlyPrice : yearlyPrice;
                selectPlan(planName, planId, price, cycle);
            }
        }

        function selectPlan(planName, planId, planPrice, billingCycle = 'monthly') {
            document.querySelectorAll('.plan-card').forEach(card => {
                card.classList.remove('border-blue-500');
                if (card.getAttribute('data-plan') === planName) {
                    card.classList.add('border-blue-500');
                }
            });
            
            const period = billingCycle === 'monthly' ? 'month' : 'year';
            let html = `
                <div class="flex flex-col items-center mt-4">
                    <button id="subscribe-btn" class="bg-indigo-700 text-white px-8 py-3 rounded-xl hover:bg-blue-700 font-semibold shadow-md transition">Subscribe to ${planName} - USD ${planPrice}/${period}</button>
                </div>
            `;
            document.getElementById('subscribe-btn-container').innerHTML = html;

            setTimeout(function() {
                const btn = document.getElementById('subscribe-btn');
                if (btn) {
                    btn.onclick = async function(e) {
                        e.preventDefault();
                        btn.disabled = true;
                        btn.textContent = 'Redirecting...';

                        try {
                            // Get CSRF token
                            const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;

                            // Use the API endpoint that doesn't require login
                            const checkoutUrl = '/api/create-checkout-session/';

                            console.log('Making request to:', checkoutUrl); // Debug log

                            const response = await fetch(checkoutUrl, {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                    'X-CSRFToken': csrfToken,
                                },
                                body: JSON.stringify({
                                    plan_id: planId,
                                    billing_cycle: billingCycle,
                                })
                            });

                            console.log('Response status:', response.status); // Debug log

                            if (!response.ok) {
                                const errorText = await response.text();
                                console.error('Server response:', errorText);
                                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                            }

                            const contentType = response.headers.get('content-type');
                            if (!contentType || !contentType.includes('application/json')) {
                                const responseText = await response.text();
                                console.error('Non-JSON response:', responseText);
                                throw new Error('Server returned non-JSON response');
                            }

                            const data = await response.json();

                            if (data.checkout_url) {
                                window.location.href = data.checkout_url;
                            } else if (data.link) {
                                window.location.href = data.link;
                            } else {
                                alert('Error creating checkout: ' + (data.error || 'Unknown error.'));
                                btn.disabled = false;
                                btn.textContent = `Subscribe to ${planName} - USD ${planPrice}/${period}`;
                            }
                        } catch (err) {
                            console.error('Full error:', err);
                            alert('Error creating checkout: ' + err.message);
                            btn.disabled = false;
                            btn.textContent = `Subscribe to ${planName} - USD ${planPrice}/${period}`;
                        }
                    };
                }
            }, 100);
        }

        window.addEventListener('DOMContentLoaded', function() {
            // Add event listeners for billing cycle toggles
            document.getElementById('monthly-toggle').addEventListener('click', () => toggleBillingCycle('monthly'));
            document.getElementById('yearly-toggle').addEventListener('click', () => toggleBillingCycle('yearly'));
            
            // Update plan card click handlers
            document.querySelectorAll('.plan-card').forEach(card => {
                card.addEventListener('click', function() {
                    const planName = card.getAttribute('data-plan');
                    const planId = card.getAttribute('data-plan-id');
                    const monthlyPrice = card.getAttribute('data-monthly-price');
                    const yearlyPrice = card.getAttribute('data-yearly-price');
                    const price = currentBillingCycle === 'monthly' ? monthlyPrice : yearlyPrice;
                    selectPlan(planName, planId, price, currentBillingCycle);
                });
            });
        });
    </script>
{% endblock %}